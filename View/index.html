<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Hello View</h1>
    <div id="container">
        <button class="button">Click</button>
    </div>
    
    <!-- <template></template> -->
    <script type="text/template" id="item-template">
        <div>
            <h2><%= title %></h2>
            <p><%= description %></p>
        </div>
    </script>
    <!-- ========= -->
    <!-- Libraries -->
    <!-- ========= -->
    <!-- <script src="https://code.jquery.com/jquery-2.1.3.min.js" type="text/javascript"></script> -->
    <script src="jquery.js" type="text/javascript"></script>
    <script src="underscore.js" type="text/javascript"></script>

    <script src="./backbone.js" type="text/javascript"></script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone-localstorage.js/1.0/backbone.localStorage-min.js" type="text/javascript"></script>  -->
    <script>
$(document).ready(function () {



        // View Extend
            // var CustomView = Backbone.View.extend({
            //     // Instance properties and methods
            //     el: '#element-id',

            //     events: {
            //         'click .button': 'handleButtonClick'
            //     },

            //     initialize: function(options) {
            //         // Custom initialization logic
            //         console.log('View initialized');
            //     },

            //     render: function() {
            //         // Custom render logic
            //         this.$el.html('<p>Hello, Backbone View!</p>');
            //         return this; // Return this for chaining
            //     },

            //     handleButtonClick: function() {
            //         console.log('Button clicked!');
            //     }
            // });
        
        // Pre Intialized method

            // var MyView = Backbone.View.extend({
            //     preinitialize: function(options) {
            //         console.log('Preinitialize called');
            //         this.preSetup = 'This was set in preinitialize';
            //     },

            //     initialize: function(options) {
            //         console.log('Initialize called');
            //         console.log('Pre-setup value:', this.preSetup);
            //     }
            // });

            // var view = new MyView();

        // el

            // var BodyView = Backbone.View.extend({
            //                 el: 'body'
            //                 });

        //$ el

            // var MyView = Backbone.View.extend({
            //     el: '#my-element', // Assign a root DOM element

            //     initialize: function() {
            //         console.log(this.el);  // Logs: <div id="my-element"></div>
            //         console.log(this.$el); // Logs: [<div id="my-element">]
                        
                       // Manipulate the DOM element using jQuery
                    //    this.$el.html('<p>Hello Backbone!</p>');
            //     }
            // });

            // var view = new MyView();

        // SetMethod
                // var MyView = Backbone.View.extend({
                //     el: '#container',
                //     initialize: function() {
                //         console.log(this.el);  // Logs: <div id="my-element"></div>
                //         console.log(this.$el); // Logs: [<div id="my-element">]
                        
                //        //    Manipulate the DOM element using jQuery
                //         // this.$el.html('<p>Hello Backbone!</p>');
                //     },
                //     events: {
                //         'click .button': 'handleClick'
                //     },

                //     handleClick: function() {
                //         console.log('Button clicked!');
                //     }
                // });

                // // Initialize the view with an initial element
                // var view = new MyView();

                // Change the element dynamically
                // view.setElement('#new-container');

                // The events will now be bound to the new element
        // attributes

                // var MyView = Backbone.View.extend({
                //     tagName: 'div', // The default is 'div' if not specified
                //     attributes: {
                //         class: 'my-class',
                //         id: 'my-id',
                //         'data-role': 'example'
                //     },
                //     initialize: function() {
                //         console.log(this.el); // Logs the element with the defined attributes
                //     }
                // });

                // // Create an instance of the view
                // var view = new MyView();
                // document.body.appendChild(view.el);

        // template
            // var ItemView = Backbone.View.extend({
            //     tagName: 'div',
            //     className: 'item-view',
                
            //     // Define the template
            //     template: _.template($('#item-template').html()),
                
            //     initialize: function() {
            //         this.render();
            //     },
                
            //     render: function() {
            //         // Pass data to the template and set it as the HTML of the view's element
            //         var html = this.template(this.model.toJSON());
            //         this.$el.html(html);
            //         return this;
            //     }
            // });

            // // Create a model with some data
            // var itemModel = new Backbone.Model({
            //     title: 'Backbone.js Template Example',
            //     description: 'This is a simple example of using templates in Backbone views.'
            // });

            // // Create the view and append it to the body
            // var itemView = new ItemView({ model: itemModel });
            // $('body').append(itemView.el);


        // remove method

            // basic use
                // var MyView = Backbone.View.extend({
                //     tagName: 'div',
                //     className: 'my-view',
                //     initialize: function() {
                //         this.render();
                //     },
                //     render: function() {
                //         this.$el.html('<p>Hello, Backbone.js!</p><button class="remove-btn">Remove</button>');
                //         return this;
                //     },
                //     events: {
                //         'click .remove-btn': 'removeView'
                //     },
                //     removeView: function() {
                //         this.remove(); // Remove the view and its associated DOM element
                //         console.log('View removed!');
                //     }
                // });

                // // Create and render the view
                // var myView = new MyView();
                // $('body').append(myView.el);

            // use with Collections

                // var MyView = Backbone.View.extend({
                //     initialize: function() {
                        // this.listenTo(this.model, 'change', this.render); // Bind events
                //         this.render();
                //     },
                //     render: function() {
                //         this.$el.html('<p>' + this.model.get('name') + '</p><button class="remove-btn">Remove</button>');
                //         return this;
                //     },
                //     events: {
                //         'click .remove-btn': 'removeView'
                //     },
                //     removeView: function() {
                //         this.stopListening(); // Unbind all events
                //         this.remove(); // Remove the view from the DOM
                //     }
                // });

                // var myModel = new Backbone.Model({ name: 'Backbone.js' });
                // var myView = new MyView({ model: myModel });
                // $('body').append(myView.el);


        // events


            // var MyView = Backbone.View.extend({
            //     el: '#container', // Optionally, specify the element for this view
                
            //     // Events hash
            //     events: {
            //         'click #button': 'handleClick',
            //         'keyup input': 'handleKeyup'
            //     },
                
            //     // Event handler methods
            //     handleClick: function() {
            //         console.log('Button clicked!');
            //     },
                
            //     handleKeyup: function() {
            //         console.log('Key pressed!');
            //     }
            // });

        // delegateEvents

            var MyView = Backbone.View.extend({
                el: '#container', // Bind the view to the #container element
                
                // Events hash: mapping DOM events to methods
                events: {
                    'click #button': 'handleClick',       // Bind click event on #button to handleClick method
                    'keyup input': 'handleKeyup'          // Bind keyup event on input element to handleKeyup method
                },
                
                // Method to handle button click
                handleClick: function() {
                    alert('Button clicked!');
                },
                
                // Method to handle keyup event in the input field
                handleKeyup: function() {
                    console.log('Key pressed!');
                },

                // Manually re-delegate events (optional)
                rebindEvents: function() {
                    this.delegateEvents();
                }
            });

            // Instantiate and initialize the view
            var view = new MyView();

            // Manually re-delegate events if needed
            view.rebindEvents();


        // undelegateEvents

            var MyView = Backbone.View.extend({
                el: '#container',
                
                events: {
                    'click button': 'handleClick'
                },
                
                initialize: function() {
                    console.log('View initialized');
                },

                handleClick: function() {
                    alert('Button clicked!');
                },

                remove: function() {
                    this.undelegateEvents(); // Unbind all events before removing the view
                    this.$el.remove();        // Remove the view's DOM element
                }
            });

            var view = new MyView();

            // Example of how to manually trigger the removal of the view
            view.remove();


     })
    </script>

</body>

</html>